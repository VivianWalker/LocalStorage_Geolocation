<!doctype html>
<html>
  <head>
  	<meta charset="utf-8">
  	<title></title>
  	<style>
      #div1{width:400px;height:400px;border:1px solid black;}
  	</style>
  	<script src="http://api.map.baidu.com/api?v=1.3"></script>
  	<script>
      window.onload=function(){
      	
      	var oInput = document.getElementById("input1");
      	oInput.onclick = function(){
      		navigator.geolocation.getCurrentPosition(function(position){

      			var y=position.coords.longitude;
      			var x=position.coords.latitude;

      			var map = new BMap.Map("div1");
      			var pt = new BMap.Point(y,x);

      			map.centerAndZoom(pt,14);
      			map.enableScrollWheelZoom();
      			var myIcon = new BMap.Icon("myPosition.png",new BMap.Size(30,30));
      			var marker2 = new BMap.Marker(pt,{icon:myIcon});//创建标注
      			map.addOverlay(marker2);

      			var opts = {
      				//信息窗口
      				width:200,
      				height:60,
      				title:"My Position"
      			}
      			创建窗口信息对象
      			var infoWindow=new BMap.InfoWindow("我的位置在这里！",opts);
      			//开启信息窗口
      			map.openInfoWindow(infoWindow,pt);
      		},{},{
      			enableHighAcuracy : true
      		})
      	}
      }
  	</script>
  </head>
  <body>
  	<input type="button" value="获取位置" id="input1">
  	<div id="div1"></div>
  </body>
</html>